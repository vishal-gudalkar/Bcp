
 
 <div class="container">    
    <div class="card">
        <div class="card-header">
            <h3>Stock Entry</h3>
        </div>    
        <div class="card-body">
            <form novalidate (ngSubmit)="onSubmit()" [formGroup]="stockEntryForm">                
                <!-- <div class="form-group row mb-2">
                    <label class="col-md-2 col-form-label" for="plantId">Plant</label>
                    <div class="col-md-8">
                        <input class="form-control"
                               id="plantId" type = "text" placeholder = "Plant" 
                               formControlName="plant"
                               [ngClass]="{'is-invalid': (stockEntryForm.get('plant').touched ||
                                                          stockEntryForm.get('plant').dirty) &&
                                                          !stockEntryForm.get('plant').valid }" />
                        <span class="invalid-feedback">
                            <span *ngIf="stockEntryForm.get('plant').errors?.['required']">
                                Please enter plant
                            </span>
                        </span> 
                    </div>           
                </div> -->
                
                <div class="form-group row mb-2">
                    <label class="col-md-2 col-form-label" for="storageLocationId">Storage location</label>
                    <div class="col-md-8">
                      <select class="form-control" formControlName="sapLoc" id="storageLocationId"  [ngClass]="{'is-invalid': (stockEntryForm.get('sapLoc').touched ||stockEntryForm.get('sapLoc').dirty) && !stockEntryForm.get('sapLoc').valid }">
                        <option value="" disabled selected hidden>Select  Storage Location...</option>
                        <option *ngFor="let locations of storageLocations"  [ngValue]="locations.storagelocation">
                          {{locations.storagelocation}}
                        </option>
                      </select>
                        <span class="invalid-feedback">
                            <span *ngIf="stockEntryForm.get('sapLoc').errors?.['required']">
                                Please select storage location
                            </span>
                        </span> 
                    </div>           
                </div> 
                <div>
                    <div>
                        <div class="form-group row mb-2">
                            <label class="col-md-2 col-form-label"
                                   for="labelId">Label</label>
                            <div class="col-md-8">
                              <input class="form-control"
                                     id="labelId"
                                     type="text"
                                     placeholder="Label"
                                     formControlName="labelNr"
                                     [ngClass]="{'is-invalid': (stockEntryForm.get('labelNr').touched ||
                                                                stockEntryForm.get('labelNr').dirty) &&
                                                                !stockEntryForm.get('labelNr').valid }" [readonly]="true"/>
                              <span class="invalid-feedback">
                                <span *ngIf="stockEntryForm.get('labelNr').errors?.['required']">
                                    Please enter label
                                </span>
                              </span>
                            </div>
                        </div>

                        <div class="form-group row mb-2">
                            <label class="col-md-2 col-form-label"
                                   for="rackTypeId">Rack type</label>
                            <div class="col-md-8">
                             
                              <select class="form-control" formControlName="rackType" id="rackTypeId"  [ngClass]="{'is-invalid': (stockEntryForm.get('rackType').touched ||stockEntryForm.get('rackType').dirty) && !stockEntryForm.get('rackType').valid }">
                                <option value="" disabled selected hidden>Select  Rack Type...</option>
                                <option *ngFor="let types of rackTypes" [ngValue]="types.rackType">
                                  {{types.rackType}}
                                </option>
                              </select>
                              <span class="invalid-feedback">
                                <span *ngIf="stockEntryForm.get('rackType').errors?.['required']">
                                    Please select rack type
                                </span>
                              </span>
                            </div>
                        </div>

                        <div class="form-group row mb-2">
                            <label class="col-md-2 col-form-label"
                                   for="rackId">Rack id</label>
                            <div class="col-md-8">
                              <input class="form-control"
                                     id="rackId"
                                     type="text"
                                     placeholder="Rack id"
                                     formControlName="rackId"
                                     [ngClass]="{'is-invalid': (stockEntryForm.get('rackId').touched ||
                                                                stockEntryForm.get('rackId').dirty) &&
                                                                !stockEntryForm.get('rackId').valid }" />
                              <span class="invalid-feedback">
                                <span *ngIf="stockEntryForm.get('rackId').errors?.['required']">
                                    Please enter rack id
                                </span>
                              </span>
                            </div>
                        </div>

                        <div class="form-group row mb-2">
                            <label class="col-md-2 col-form-label"
                                   for="binId">Bin</label>
                            <div class="col-md-8">
                              <input class="form-control"
                                     id="binId"
                                     type="text"
                                     placeholder="Bin"
                                     formControlName="bin"
                                     [ngClass]="{'is-invalid': (stockEntryForm.get('bin').touched ||
                                                                stockEntryForm.get('bin').dirty) &&
                                                                !stockEntryForm.get('bin').valid }" />
                              <span class="invalid-feedback">
                                <span *ngIf="stockEntryForm.get('bin').errors?.['required']">
                                    Please enter bin
                                </span>
                              </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <div>
                        <div class="form-group row mb-2">
                            <label class="col-md-2 col-form-label"
                                   for="materialId">Material</label>
                            <div class="col-md-8">
                              <input class="form-control"
                                     id="materialId"
                                     type="text"
                                     placeholder="Material"
                                     formControlName="product"
                                     [ngClass]="{'is-invalid': (stockEntryForm.get('product').touched ||
                                                                stockEntryForm.get('product').dirty) &&
                                                                !stockEntryForm.get('product').valid }" />
                              <span class="invalid-feedback">
                                <span *ngIf="stockEntryForm.get('product').errors?.['required']">
                                    Please enter material
                                </span>
                              </span>
                            </div>
                        </div>

                        <div class="form-group row mb-2">
                            <label class="col-md-2 col-form-label"
                                   for="qtyId">Qty</label>
                            <div class="col-md-8">
                              <input class="form-control"
                                     id="qtyId"
                                     type="number"
                                     placeholder="Qty"
                                     formControlName="qty" min="1" max="9999999"
                                     [ngClass]="{'is-invalid': (stockEntryForm.get('qty').touched ||
                                                                stockEntryForm.get('qty').dirty) &&
                                                                !stockEntryForm.get('qty').valid }" />
                              <span class="invalid-feedback">
                                <span *ngIf="stockEntryForm.get('qty').errors?.['required']">
                                    Please enter qty
                                </span>
                              </span>
                            </div>
                        </div>

                        <div class="form-group row mb-2">
                            <label class="col-md-2 col-form-label"
                                   for="statusId">Status</label>
                            <div class="col-md-8">
                                <select class="form-control"
                                        id="statusId"
                                        formControlName="contentStatus" [ngClass]="{'is-invalid': (stockEntryForm.get('contentStatus').touched ||stockEntryForm.get('contentStatus').dirty) && !stockEntryForm.get('contentStatus').valid }">
                                    <option value=""
                                            disabled
                                            selected
                                            hidden>Select a status...</option>    
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="Q">Q</option>        
                                </select>
                              <span class="invalid-feedback">
                                <span *ngIf="stockEntryForm.get('contentStatus').errors?.['required']">
                                    Please select status
                                </span>
                              </span>
                            </div>
                        </div>
                    </div>
                </div>

                
                <div class="form-group row mb-2">
                    <div class="offset-md-2 col-md-4">
                      <button  class="btn btn-primary mr-3"
                              type="submit"
                              style="width:80px"
                              [title]="stockEntryForm.valid ? 'Save your entered data' : 'Disabled until the form data is valid'"
                              [disabled]="!stockEntryForm.valid">
                        Submit
                      </button>
                      <button style="margin-left: 10px;" class="btn btn-primary mr-3"
                              type="button"
                              (click)="onCancel()">
                        Cancel
                      </button>
                        <button style="margin-left: 10px;" class="btn btn-primary mr-3"
                              type="button"
                              (click)="AddNew()">
                        Add New
                      </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

